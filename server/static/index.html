<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Deep Profile</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Add the slick-theme.css if you want default styling -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.css"/>
    <!-- Add the slick-theme.css if you want default styling -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick-theme.css"/>


    <style>
        .dn { display: none; }

        html,
        body,
        div#app,
        .h100 {
            height: 100%;
        }

        #linkedin,
        #facebook,
        #twitter {
            padding: 30px;
            border-bottom: 1px solid black
        }

        #instagram {
            padding: 30px;
        }

        #linkedin .date-range {
            font-size: 13px;
        }

        h1 {
            border-bottom: 1px dotted darkgray;
            text-align: right;
        }

        #welcomePanel h1 {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="container-fluid h100">
        <div class="row h100">
            <div class="h100 col-3" style="border-right: 1px solid black;">
                <div class="container" style="margin-top: 30px;">
                    <h1 style="text-align: center !important;">
                        Deep Profile
                    </h1>
                    <br />
                    <br />
                    <form class="">
                        <fieldset role="group" class="b-form-group form-group">
                            <legend class="col-form-label pt-0">First name*</legend>
                            <input id="inpFirstname" type="text" class="form-control" value="Simon">
                        </fieldset>
                        <fieldset role="group" class="b-form-group form-group">
                            <legend class="col-form-label pt-0">Last name*</legend>
                            <input id="inpLastname" type="text" class="form-control" value="Rey">
                        </fieldset>
                        <fieldset role="group" class="b-form-group form-group">
                            <legend class="col-form-label pt-0">E-Mail Address*</legend>
                            <input id="inpEmail" type="text" class="form-control" value="simonrey@mail.de">
                        </fieldset>
                        <fieldset role="group" class="b-form-group form-group">
                            <legend class="col-form-label pt-0">Birthday</legend>
                            <input id="inpBirthday" type="text" class="form-control">
                        </fieldset>
                        <fieldset role="group" class="b-form-group form-group">
                            <legend class="col-form-label pt-0">Address</legend>
                            <input id="inpAddress" type="text" class="form-control">
                        </fieldset>
                        <fieldset role="group" class="b-form-group form-group">
                            <legend class="col-form-label pt-0">Keywords</legend>
                            <input id="inpKeywords" type="text" class="form-control">
                        </fieldset>
                        <fieldset role="group" class="b-form-group form-group">
                            <legend class="col-form-label pt-0">Instagram Name</legend>
                            <input id="inpInstagram" type="text" class="form-control">
                        </fieldset>
                        <fieldset role="group" class="b-form-group form-group">
                            <legend class="col-form-label pt-0">Image*</legend>
                            <div class="custom-file b-form-file">
                                <input type="file" class="form-control-file" accept="image/*" id="inpImage">
                            </div>
                        </fieldset>
                        <fieldset role="group" class="b-form-group form-group">
                            <button id="btnSubmit" type="submit" class="btn btn-secondary">Submit</button>
                        </fieldset>
                        * Required
                    </form>
                </div>
            </div>




            <div id="welcomePanel" class="col-9">
                <div class="container h-100 d-flex">
                    <div class="jumbotron my-auto" style="width:100%; text-align:center; border: 5px solid #daa520; background: #efefef;">
                        <h1 class="display-3">Deep Profile</h1>
                        <p class="lead">Taking care of your data</p>
                        <hr class="my-4">
                        <p>Please fill out the form on the left side.</p>
                    </div>
                </div>
            </div>


            <div id="outputPanel" class="col-9 dn" style="height: 100%; overflow-y: scroll;">
                <div id="linkedin">
                    <h1>Linkedin</h1>

                    <div id="linkedinLoader">
                        <i class="fa fa-circle-notch fa-spin fa-3x" style="margin-left: 45%; margin-top: 30px"></i>
                    </div>

                    <div id="linkedinData" class="dn">
                        <h3>Simon Rey
                            <span style="font-size:13px;">
                                98
                                <i class="fa fa-users" aria-hidden="true"></i>
                            </span>
                        </h3>
                        <h5>Working student at inovex GmbH</h5>
                        <h6>Hochschule Karlsruhe - Technik und Wirtschaft</h6>

                        <br />
                        <br />
                        <section id="experience" class="profile-section">
                            <h2 class="title" style="text-decoration: underline;">Experience</h2>
                            <br />
                            <div class="row">
                                <div class="col-6">
                                    <header>
                                        <h5 class="item-title">Working student application development</h5>
                                        <h5 class="item-subtitle">inovex GmbH</h5>
                                    </header>
                                    <div class="meta">
                                        <span class="date-range">
                                            <time>October 2018</time> – Today
                                        </span>
                                    </div>
                                    <p class="description">Frontend development</p>
                                </div>


                                <div class="col-6">
                                    <header>
                                        <h5 class="item-title">Aiming at the bachelors degree</h5>
                                        <h5 class="item-subtitle">inovex GmbH</h5>
                                    </header>
                                    <div class="meta">
                                        <span class="date-range">
                                            <time>March 2018</time> –
                                            <time>September 2018</time>
                                        </span>
                                    </div>
                                    <p class="description">Development of an automated evaluation infrastructure for websites in context of evolving technologies</p>
                                </div>
                            </div>


                            <hr />


                            <div class="row">
                                <div class="col-6">
                                    <header>
                                        <h5 class="item-title">Working Student - IT Consulting</h5>
                                        <h5 class="item-subtitle">Uniserv GmbH</h5>
                                    </header>
                                    <div class="meta">
                                        <span class="date-range">
                                            <time>February 2017</time> –
                                            <time>February 2018</time>
                                        </span>
                                    </div>
                                    <p class="description">Evaluating an machine learning approach</p>
                                </div>


                                <div class="col-6">
                                    <header>
                                        <h5 class="item-title">Trainee IT Consulting</h5>
                                        <h5 class="item-subtitle">Uniserv GmbH</h5>
                                    </header>
                                    <div class="meta">
                                        <span class="date-range">
                                            <time>August 2016</time> –
                                            <time>January 2017</time>
                                        </span>
                                    </div>
                                    <p class="description">Evaluating the possible usage of elasticsearch</p>
                                </div>
                            </div>
                        </section>


                        <br />
                        <br />


                        <section>
                            <h2 class="title" style="text-decoration: underline;">Knowledge</h2>
                            <br />
                            <h4>Web applications, Software Architecture, Data Analysis</h4>

                            <br />

                            <div class="row">
                                <div class="col-6">
                                    <h3>Sector Knowledge</h3>
                                    <div>
                                        <span class="badge badge-pill badge-secondary">OOP</span>
                                        <span class="badge badge-pill badge-secondary">Software Development</span>
                                        <span class="badge badge-pill badge-secondary">Web Development</span>
                                    </div>
                                </div>

                                <div class="col-6">
                                    <h3>Tools & Technologies</h3>
                                    <span class="badge badge-pill badge-secondary">Java</span>
                                    <span class="badge badge-pill badge-secondary">Spring framework</span>
                                    <span class="badge badge-pill badge-secondary">Python</span>
                                    <span class="badge badge-pill badge-secondary">Stencil</span>
                                    <span class="badge badge-pill badge-secondary">Machine learning</span>
                                    <span class="badge badge-pill badge-secondary">C#</span>
                                    <span class="badge badge-pill badge-secondary">SQL</span>
                                    <span class="badge badge-pill badge-secondary">NoSQL</span>
                                    <span class="badge badge-pill badge-secondary">Neo4j</span>
                                    <span class="badge badge-pill badge-secondary">Relational Databases</span>
                                    <span class="badge badge-pill badge-secondary">elasticsearch</span>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
                <div id="twitter">
                    <h1>Twitter</h1>

                    <div id="twitterLoader">
                        <i class="fa fa-circle-notch fa-spin fa-3x" style="margin-left: 45%; margin-top: 30px"></i>
                    </div>

                    <div id="twitterData" class="dn">
                        <br />
                        <strong>On Twitter since: </strong><span id="twitterCreation"></span><br />
                        <strong>Followers: </strong><span id="twitterFollower"></span><br />
                        <strong>Locations: </strong><span id="twitterLocation"></span><br />
                        <br />
                        <strong>Profile description:</strong><br />
                        <span id="twitterDescription"></span><br />
                        <br />
                        <br />
                        <h4>Media from Twitter:</h4>
                        <div id="twitterImages" class="gallery-slider" style="height: 300px !important;"></div>

                        <br />
                        <br />
                        <h4>Latest tweets:</h4>
                        <div class="container">
                            <div id="twitterTweets" class="row"></div>
                        </div>
                    </div>
                </div>
                <div id="instagram">
                    <h1>Instagram</h1>

                    <div id="instagramLoader">
                        <i class="fa fa-circle-notch fa-spin fa-3x" style="margin-left: 45%; margin-top: 30px"></i>
                    </div>

                    <div id="instagramData" class="dn">
                        <br />
                        <h4>Media from Instagram:</h4>
                        <div id="instagramImages" class="gallery-slider " style="height: 300px !important;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="https://use.fontawesome.com/releases/v5.0.8/js/solid.js" crossorigin="anonymous"></script>
    <script src="https://use.fontawesome.com/releases/v5.0.8/js/fontawesome.js" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.min.js"></script>

    <script type="text/javascript">

        $("#btnSubmit").click(function (event) {
            event.preventDefault();

            var formData = new FormData();
            formData.append('firstname', $("#inpFirstname").val());
            formData.append('lastname',  $("#inpLastname").val());
            formData.append('email',  $("#inpEmail").val());
            formData.append('birthday',  $("#inpBirthday").val());
            formData.append('keywords',  $("#inpKeywords").val());
            formData.append('address',  $("#inpAddress").val());
            formData.append('instagram',  'florianrusch9297');
            //formData.append('instagram', 'florianrusch9297');
            formData.append('image',  $("#inpImage")[0].files[0]);

            $("#welcomePanel").addClass("dn");
            $("#outputPanel").removeClass("dn");

            setTimeout(function(){
                $("#linkedinLoader").addClass("dn");
                $("#linkedinData").removeClass("dn");
            }, 10000);


            jQuery.ajax({
                type: "POST",
                url: "/api/twitter",
                data: formData,
                processData: false,
                contentType: false,
                success: function (data) {
                    var imageGalerie = "";
                    data.linksToPictures.forEach(function(ele) {
                        imageGalerie += '<div class="item">' +
                            '<div class="img-fill">' +
                                '<img src="' + ele + '" alt="" height="300">' +
                            '</div>' +
                        '</div>';
                    });

                    $("#twitterImages").html(imageGalerie);

                    $("#twitterImages").slick({
                        speed: 5000,
                        slidesToShow: 3,
                        slidesToScroll: 1,
                        centerMode: true,
                        centerPadding: '60px',
                        cssEase: 'linear',
                        draggable: true,
                        autoplay: true,
                        autoplaySpeed: 0,
                        variableWidth: true,
                    });

                    $("#twitterCreation").html(data.creation_date);
                    $("#twitterFollower").html(34);
                    $("#twitterLocation").html(data.location);
                    $("#twitterDescription").html(data.profile_description);


                    var tweetsHTML = "";
                    var counter = 0,
                        regex = //g;
                    data.tweets.forEach(function(ele) {
                        if (counter >= 20) {
                            return -1;
                        }

                        ele = ele.replace(/((\w+:\/\/)[-a-zA-Z0-9:@;?&=\/%\+\.\*!'\(\),\$_\{\}\^~\[\]`#|]+)/, '<a href="$1" target="_blank">$1</a>');
                        var aHashtags = ele.match(/(\#[a-zA-Z0-9_%]*)/);
                        var aMentions = ele.match(/\B@[a-zA-Z0-9_-]+/);

                        if (aHashtags) {
                            aHashtags.forEach(function(hashtag) {
                                var text = hashtag.substring(1);
                                ele = ele.replace(/ + hashtag + /g, '<a href="https://twitter.com/hashtag/' + text + '" target="_blank">' + hashtag + '</a>');
                            });
                        }

                        if (aMentions) {
                            aMentions.forEach(function(mention) {
                                var text = mention.substring(1);
                                ele = ele.replace(/ + mention + /g, '<a href="https://twitter.com/' + text + '" target="_blank">' + mention + '</a>');
                            });
                        }

                        tweetsHTML += '<div class="col-3">' +
                            '<div style="border-bottom: 1px solid lightgray; padding: 20px 0; margin: 0 10px; font-size: 18px;">' +
                                ele +
                            '</div>' +
                        '</div>';
                        counter++
                    });

                    $('#twitterTweets').html(tweetsHTML);

                    // Display data
                    setTimeout(function(){
                        $('#twitterLoader').addClass('dn');
                        $('#twitterData').removeClass('dn');
                    }, 6000);
                }
            });


            jQuery.ajax({
                type: "POST",
                url: "/api/instagram",
                data: formData,
                processData: false,
                contentType: false,
                success: function (data) {
                    var imageGalerie = "";
                    data.pictures.forEach(function(element) {
                        imageGalerie += '<div class="item">' +
                            '<div class="img-fill">' +
                                '<img src="' + element + '" alt="" height="300">' +
                            '</div>' +
                        '</div>';
                    });

                    $("#instagramImages").html(imageGalerie);

                    $("#instagramImages").slick({
                        speed: 5000,
                        slidesToShow: 3,
                        slidesToScroll: 1,
                        centerMode: true,
                        centerPadding: '60px',
                        cssEase: 'linear',
                        draggable: true,
                        autoplay: true,
                        autoplaySpeed: 0,
                        variableWidth: true,
                    });

                    // Display data
                    setTimeout(function(){
                        $('#instagramLoader').addClass('dn');
                        $('#instagramData').removeClass('dn');
                    }, 6000);
                }
            });
        });
    </script>
</body>

</html>
